<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VETKAPIMDA Admin Panel</title>
    <meta name="description" content="VETKAPIMDA shop urun yonetimi admin paneli." />
    <link rel="icon" href="/assets/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
  </head>
  <body class="admin-body">
    <header class="admin-hero">
      <div class="admin-hero-bg"></div>
      <div class="admin-hero-inner">
        <div>
          <p class="admin-eyebrow">VETKAPIMDA Admin</p>
          <h1>Shop Urun Yonetimi</h1>
          <p class="admin-lede">
            Urun ekle, fiyat guncelle, aktif/pasif yap ve sirala.
          </p>
        </div>
        <a class="btn ghost admin-back" href="/index.html">Siteye Don</a>
      </div>
    </header>

    <main class="admin-main">
      <section class="admin-card" id="loginPanel">
        <h2>Admin Giris</h2>
        <p class="admin-muted">
          Yalnizca yetkili e-postalar ile giris yapabilirsiniz.
        </p>
        <form id="adminLoginForm" class="admin-form" autocomplete="on">
          <label for="adminEmail">E-posta</label>
          <input id="adminEmail" type="email" required />
          <label for="adminPassword">Sifre</label>
          <input id="adminPassword" type="password" required />
          <button class="btn primary" type="submit">Giris Yap</button>
          <div class="admin-login-actions">
            <button class="link-button" id="adminResetBtn" type="button">
              Sifremi Unuttum
            </button>
            <button class="link-button" id="adminCreateBtn" type="button">
              Admin Hesap Olustur
            </button>
          </div>
          <p id="adminLoginStatus" class="admin-status" role="status"></p>
        </form>
      </section>

      <section class="admin-card admin-hidden" id="adminPanel">
        <div class="admin-toolbar">
          <div>
            <h2>Urunler</h2>
            <p class="admin-muted">Firestore: shopProducts</p>
          </div>
          <button class="btn ghost" id="adminLogoutBtn" type="button">Cikis Yap</button>
        </div>

        <div class="admin-grid">
          <div class="admin-form-card">
            <h3 id="productFormTitle">Yeni Urun</h3>
            <form id="productForm" class="admin-form">
              <input id="productId" type="hidden" />
              <label for="productTitle">Urun Adi</label>
              <input id="productTitle" type="text" required />
              <label for="productImage">Resim URL</label>
              <input
                id="productImage"
                type="url"
                placeholder="https://..."
                autocomplete="off"
              />
              <p class="admin-muted admin-note">
                Resim yukleme (dosya) icin Firebase Storage gerekir. Simdilik URL
                kullanin.
              </p>
              <div class="admin-image-preview">
                <img id="productImagePreview" alt="Urun onizleme" />
                <span>Onizleme</span>
              </div>
              <label for="productTag">Etiket (opsiyonel)</label>
              <input id="productTag" type="text" placeholder="Yeni, Firsat..." />
              <label for="productDescription">Aciklama</label>
              <textarea id="productDescription" rows="3"></textarea>
              <label for="productStock">Stok (adet)</label>
              <input id="productStock" type="number" min="0" step="1" />
              <label for="productPrice">Fiyat (TL)</label>
              <input id="productPrice" type="number" min="0" step="1" required />
              <label for="productOrder">Siralama</label>
              <input id="productOrder" type="number" min="0" step="1" value="0" />
              <label class="admin-checkbox">
                <input id="productActive" type="checkbox" checked />
                Aktif olarak yayinla
              </label>
              <div class="admin-actions">
                <button class="btn primary" type="submit">Kaydet</button>
                <button class="btn ghost" id="productResetBtn" type="button">
                  Temizle
                </button>
              </div>
              <p id="productFormStatus" class="admin-status" role="status"></p>
            </form>
          </div>

          <div class="admin-table-card">
            <div class="admin-table-header">
              <h3>Urun Listesi</h3>
              <span id="productCount" class="admin-count"></span>
            </div>
            <div class="admin-list-tools">
              <div class="admin-search">
                <input
                  id="productSearch"
                  type="search"
                  placeholder="Urun ara..."
                />
              </div>
              <div class="admin-filters">
                <select id="productStatusFilter">
                  <option value="all">Tum urunler</option>
                  <option value="active">Sadece aktif</option>
                  <option value="inactive">Sadece pasif</option>
                </select>
                <select id="bulkActionSelect">
                  <option value="">Toplu islem</option>
                  <option value="activate">Secilenleri aktif et</option>
                  <option value="deactivate">Secilenleri pasif et</option>
                  <option value="delete">Secilenleri sil</option>
                </select>
                <button class="btn ghost" id="bulkApplyBtn" type="button">
                  Uygula
                </button>
              </div>
            </div>
            <div class="admin-bulk-price">
              <label for="bulkPriceValue">Toplu Fiyat</label>
              <div class="admin-bulk-controls">
                <select id="bulkPriceMode">
                  <option value="percent_up">+ %</option>
                  <option value="percent_down">- %</option>
                  <option value="amount_up">+ TL</option>
                  <option value="amount_down">- TL</option>
                </select>
                <input id="bulkPriceValue" type="number" min="0" step="1" />
                <button class="btn ghost" id="bulkPriceApplyBtn" type="button">
                  Secilenlere Uygula
                </button>
              </div>
            </div>
            <div id="productList" class="admin-table"></div>
            <div class="admin-import">
              <h4>CSV ile Urun Yukle</h4>
              <p class="admin-muted">
                Basliklar: title, price, order, active, tag, description, imageUrl,
                stock
              </p>
              <div class="admin-import-controls">
                <input id="productImportFile" type="file" accept=".csv" />
                <button class="btn ghost" id="productImportBtn" type="button">
                  CSV Yukle
                </button>
              </div>
              <p id="productImportStatus" class="admin-status" role="status"></p>
            </div>
          </div>
        </div>
      </section>

      <section class="admin-card admin-hidden" id="servicePanel">
        <div class="admin-toolbar">
          <div>
            <h2>Hizmetler / Asilar</h2>
            <p class="admin-muted">Firestore: serviceItems</p>
          </div>
        </div>

        <div class="admin-grid">
          <div class="admin-form-card">
            <h3 id="serviceFormTitle">Yeni Hizmet</h3>
            <form id="serviceForm" class="admin-form">
              <input id="serviceId" type="hidden" />
              <label for="serviceTitle">Hizmet Adi</label>
              <input id="serviceTitle" type="text" required />
              <label for="serviceCategory">Kategori</label>
              <select id="serviceCategory">
                <option value="procedures">Evde Islemler</option>
                <option value="vaccines">Evde Kopek Asilari</option>
                <option value="cat_vaccines">Evde Kedi Asilari</option>
                <option value="exotics">Egzotik Dostlar</option>
                <option value="care">Bakim Paketleri</option>
              </select>
              <label for="servicePrice">Fiyat (TL)</label>
              <input id="servicePrice" type="number" min="0" step="1" required />
              <label for="serviceOrder">Siralama</label>
              <input id="serviceOrder" type="number" min="0" step="1" value="0" />
              <label class="admin-checkbox">
                <input id="serviceActive" type="checkbox" checked />
                Aktif olarak yayinla
              </label>
              <div class="admin-actions">
                <button class="btn primary" type="submit">Kaydet</button>
                <button class="btn ghost" id="serviceResetBtn" type="button">
                  Temizle
                </button>
              </div>
              <p id="serviceFormStatus" class="admin-status" role="status"></p>
            </form>
          </div>

          <div class="admin-table-card">
            <div class="admin-table-header">
              <h3>Hizmet Listesi</h3>
              <span id="serviceCount" class="admin-count"></span>
            </div>
            <div class="admin-list-tools">
              <div class="admin-search">
                <input id="serviceSearch" type="search" placeholder="Hizmet ara..." />
              </div>
              <div class="admin-filters">
                <select id="serviceCategoryFilter">
                  <option value="all">Tum kategoriler</option>
                  <option value="procedures">Evde Islemler</option>
                  <option value="vaccines">Evde Kopek Asilari</option>
                  <option value="cat_vaccines">Evde Kedi Asilari</option>
                  <option value="exotics">Egzotik Dostlar</option>
                  <option value="care">Bakim Paketleri</option>
                </select>
                <select id="serviceStatusFilter">
                  <option value="all">Tum durumlar</option>
                  <option value="active">Sadece aktif</option>
                  <option value="inactive">Sadece pasif</option>
                </select>
              </div>
            </div>
            <div id="serviceList" class="admin-table"></div>
            <div class="admin-import">
              <h4>CSV ile Hizmet Yukle</h4>
              <p class="admin-muted">
                Basliklar: title, price, order, active, category
              </p>
              <div class="admin-import-controls">
                <input id="serviceImportFile" type="file" accept=".csv" />
                <button class="btn ghost" id="serviceImportBtn" type="button">
                  CSV Yukle
                </button>
              </div>
              <p id="serviceImportStatus" class="admin-status" role="status"></p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="/admin.js"></script>
  </body>
</html>
